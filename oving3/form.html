<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form</title>
    <style>
        /* Styling for the image preview */
        .image-preview {
            width: 150px;
            height: 150px;
            border: 2px solid #ddd;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 10px;
        }
        .image-preview img {
            max-width: 100%;
            max-height: 100%;
        }
    </style>
</head>
<body>
    <h1>Mandatory data collection (we are not selling this I promise)</h1>
    <form>
        <label for="fname">First name:</label><br>
        <input type="text" id="fname" name="fname" required><br>
        <label for="lname">Last name:</label><br>
        <input type="text" id="lname" name="lname" required><br>

        <label for="email">Email Address:</label><br>
        <input type="text" id="email" name="email" required><br>
        <label for="pswd">Password:</label><br>
        <input type="password" id="pswd" name="pswd" minlength="8" required><br>

        <label for="phonenumber">Phone Number:</label><br>
        <input type="tel" id="phonenumber" name=phonenumber" placeholder="123-45-678" pattern="[0-9]{3}-[0-9]{2}-[0-9]{3}" required><br>
        <label for="dob">Date of birth:</label><br>
        <input type="date" id="dob" name="dob" required><br>
        <label for="country">Country of residence:</label><br>
        <select id="country" name="country" required>
            <option value="no">Norway</option>
            <option value="se">Sweden</option>
            <option value="dk">Denmark</option>
            <option value="uk">United Kingdom</option>
            <option value="us">United States</option>
            <option value="other">Other</option>
        </select><br>

        <span>Disclose your gender:</span><br>
        <input type="radio" id="male" name="interests" value="Male">
        <label for="male">Male</label><br>
        <input type="radio" id="female" name="interests" value="Female">
        <label for="female">Female</label><br>
        <input type="radio" id="other" name="interests" value="Other">
        <label for="other">Other</label><br>

        <span>Any interests?</span><br>
        <input type="checkbox" id="html" name="interests" value="HTML">
        <label for="html">HTML</label><br>
        <input type="checkbox" id="css" name="interests" value="CSS">
        <label for="css">CSS</label><br>
        <input type="checkbox" id="javascript" name="interests" value="JavaScript">
        <label for="javascript">JavaScript</label><br>

        <label for="comments">Any additional comments?</label><br>
        <input type="text" id="comments" name="comments"><br>
        <label for="satisfaction">How satisfied are you with this form?</label><br>
        <span>1</span>
        <input type="range" id="satisfaction" name="satisfaction" min="1" max="10" required>
        <span>10</span><br>

        <label for="pfp">Upload a profile picture!</label><br>
        <input type="file" name="pfp" id="mypfp" accept="image/*">
        <div class="image-preview" id="imagePreview">
            <span>No image selected</span>
        </div>  
        <input type="submit" value="Submit">
        <input type="reset" value="Reset">

    </form>
    <script>
        const fileInput = document.getElementById('mypfp');
        const imagePreview = document.getElementById('imagePreview');

        fileInput.addEventListener('change', function() {
            const file = this.files[0];
            if (file) {
                const reader = new FileReader();
                imagePreview.innerHTML = ""; // Clear previous content
                
                reader.onload = function(event) {
                    const imgElement = document.createElement('img');
                    imgElement.src = event.target.result;
                    imagePreview.appendChild(imgElement);
                };
                
                reader.readAsDataURL(file); // Read the file as a data URL
            } else {
                imagePreview.innerHTML = "<span>No image selected</span>"; // Reset preview if no file is selected
            }
        });
    </script>
</body>
</html>